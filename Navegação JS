document.addEventListener("DOMContentLoaded", function() {
        const cards = document.querySelector(".cards");
        const cardDeck = document.querySelector(".dashboard-card-deck");
        const conteudoLink = document.querySelector("#conteudo");

        // Adiciona &section=0 à URL ao carregar a página
        function addSectionToUrl() {
            const url = window.location.href;
            const hashIndex = url.indexOf("#");
            const hasSection = url.includes("&section=");

            if (!hasSection) {
                let newUrl;

                if (hashIndex !== -1) {
                    // Adiciona &section=0 após o ID na URL ao clicar na âncora id #conteudo
                    newUrl = `${url.substring(0, hashIndex)}&section=0${url.substring(hashIndex)}`;
                } else {
                    // Adiciona &section=0 no final da URL, se não houver hash
                    newUrl = `${url}&section=0`;
                }

                window.history.replaceState(null, "", newUrl);
            }
        }

        // Função para verificar a URL e ajustar visibilidade
        function checkUrlAndShowCards() {
            const urlParams = new URLSearchParams(window.location.search);
            const section = urlParams.get("section");
            const url = window.location.href;

            if (url.includes("#conteudo")) {
                // Oculta a UL com classe 'cards'
                cards.classList.add("d-none");

                // Oculta as 5 primeiras LI da UL com classe 'dashboard-card-deck'
                const cardDeckItems = cardDeck.querySelectorAll("li");
                cardDeckItems.forEach((item, index) => {
                    if (index < 4) {
                        item.classList.add("d-none");
                    } else {
                        item.classList.remove("d-none");
                    }
                });

                // Garante que a UL 'dashboard-card-deck' esteja visível
                cardDeck.classList.remove("d-none");
            } else if (!section || section === "0") {
                // Se não existir parâmetro 'section' ou for '0'
                cards.classList.remove("d-none"); // Exibe a UL 'cards'
                cardDeck.classList.add("d-none"); // Oculta a UL 'dashboard-card-deck'
            } else {
                cards.classList.add("d-none"); // Oculta a UL 'cards'
                cardDeck.classList.remove("d-none"); // Exibe a UL 'dashboard-card-deck'
            }
        }

        // Executar a função ao carregar a página
        addSectionToUrl();
        checkUrlAndShowCards();

        // Evento de clique no link com id 'conteudo'
        conteudoLink.addEventListener("click", function(event) {
            // Impede o comportamento padrão do link
            event.preventDefault();

            // Atualiza a URL com #conteudo sem recarregar a página
            window.location.hash = "conteudo";

            // Atualiza a visibilidade sem recarregar a página
            checkUrlAndShowCards();
        });
    });
